{"version":3,"file":"js/825.709b366d.js","mappings":"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","sources":["webpack://vue/./src/views/InicioSesionView.vue","webpack://vue/./src/views/InicioSesionView.vue?4fe7"],"sourcesContent":["<template>\r\n    <!-- Content -->\r\n    <div class=\"container-fluid \" style=\"background: rgb(36, 34, 55)\">\r\n      <div class=\"authentication-wrapper authentication-basic container-p-y\">\r\n        <div class=\"authentication-inner\">\r\n          <!-- Register -->\r\n          <div class=\"card\">\r\n            <div class=\"card-body\">              \r\n              <div class=\"container-fluid mb-3\">\r\n                <img\r\n                  src=\"https://www.csj.gob.sv/wp-content/uploads/2021/06/cropped-logocsj-1-180x180.png\"\r\n                  alt=\"user-avatar\"\r\n                  class=\"d-block rounded-3 mx-auto\"\r\n                  height=\"150\"\r\n                  width=\"150\"\r\n                  id=\"uploadedAvatar\"\r\n                />\r\n              </div>\r\n              <h3 class=\"mb-2 text-center\"><strong>Bienvenida/o a SAIV</strong></h3>               \r\n              <p>\r\n                <small class=\"p\">Sección de Atención Integral a Victimas de la Corte Suprema de Justicia para el registro y gestión de casos de violencia</small>\r\n              </p>\r\n              <p>\r\n\r\n              </p>\r\n              <div class=\"alert\" :class=\"{'alert-info':alert.tipo===null, 'alert-warning':alert.tipo==='warning', 'alert-success':alert.tipo==='success'}\" role=\"alert\">\r\n                <div class=\"text-center\">\r\n                  <i v-if=\"loading\" class=\"bx bx-loader-alt bx-spin\" ></i>                 \r\n                  <span v-if=\"alert.tipo===null\"> Ingresa tus credenciales por favor.</span>\r\n                  <span v-if=\"alert.tipo==='success'\"> {{alert.errores[0]}}</span>\r\n                </div>                  \r\n                <ul v-if=\"alert.tipo==='warning'\">\r\n                  <li v-for=\"item in alert.errores\" :key=\"item\">\r\n                    {{item}}\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n              <form v-on:submit.prevent=\"handledInicioSesion\" class=\"form\" autocomplete=\"off\" >\r\n                <div class=\"mb-3\">\r\n                  <div class=\"d-flex justify-content-between\">\r\n                    <label for=\"correo\" class=\"fw-semibold d-block\"><code>*</code>Correo</label>\r\n                  </div>\r\n                  <div class=\"input-group input-group-merge\">\r\n                    <input :disabled=\"loading\"\r\n                      v-model.trim=\"formulario.correo\"\r\n                      type=\"email\"\r\n                      class=\"form-control\"\r\n                      name=\"correo-usuario\"\r\n                      placeholder=\"Ingrese\"                      \r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div class=\"mb-3 form-password-toggle\">\r\n                  <div class=\"d-flex justify-content-between\">\r\n                    <label class=\"fw-semibold d-block\" for=\"usario-contrasena\"><code>*</code>Contraseña</label>\r\n                  </div>\r\n                  <div class=\"input-group input-group-merge\">\r\n                    <input :disabled=\"loading\"\r\n                      type=\"password\"\r\n                      id=\"usario-contrasena\"\r\n                      class=\"form-control\"\r\n                      placeholder=\"&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;\"\r\n                      v-model.trim=\"formulario.contrasena\"                        \r\n                    />\r\n                  </div>\r\n                </div>\r\n                <!-- <div class=\"mb-3\">\r\n                  <div class=\"form-check\">\r\n                    <input :disabled=\"loading\"\r\n                      class=\"form-check-input\" \r\n                      v-model=\"recuerdame\"\r\n                      type=\"checkbox\" id=\"usuario-recuerdame\" />\r\n                    <label class=\"form-check-label\" for=\"usuario-recuerdame\">  </label>\r\n                  </div>\r\n                </div>                 -->\r\n                <div class=\"mb-3 float-end\">\r\n                    <router-link :to=\"'/'\" :disabled=\"loading\" type=\"button\" @click=\"resetForm\" class=\"btn btn-secondary text-start\"  style=\"margin: 3px;\">\r\n                      <i class=\"bx bx-arrow-back\"></i> Inicio\r\n                    </router-link>\r\n                    <button :disabled=\"loading\" type=\"button\" @click=\"resetForm\" class=\"btn btn-secondary text-start\" style=\"margin: 3px;\">\r\n                      <i class=\"bx bx-reset\"></i> Reset\r\n                    </button>\r\n                    <button  :disabled=\"loading\" class=\"btn  btn-primary text-start block\" type=\"submit\" style=\"margin: 3px;\">\r\n                      <i class=\"bx\" :class=\"{'bx-log-in':!loading, 'bx-spin bx-loader':loading}\"></i> Acceder\r\n                    </button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n          <!-- /Register -->\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- / Content -->\r\n</template>\r\n<script>\r\nimport { ref, reactive } from 'vue'\r\nimport store from '@/store/index'\r\nimport servicio from '@/services/otros'\r\nimport router from '@/router/index'\r\nexport default {\r\n  setup() {\r\n    //Constantes\r\n    const recuerdame = ref(false);\r\n    const loading = ref(false);\r\n    const alert = ref({ tipo:null, errores:[] });\r\n    const form = { \r\n      correo:\"bitzide@bitzide.com\", \r\n      contrasena:\"password\" \r\n    };\r\n    const formulario = reactive(JSON.parse(JSON.stringify(form)));\r\n    \r\n    //Created \r\n    store.commit('headerSesion');\r\n    //recuerdame.value = localStorage.getItem('recuerdame')??=false;\r\n    \r\n    //Methods\r\n    const resetForm = () => {\r\n      Object.assign(formulario, JSON.parse(JSON.stringify(form)));\r\n      alert.value.errores = [];\r\n      alert.value.tipo = null;\r\n    };\r\n\r\n    const handledInicioSesion = async () =>{\r\n      loading.value = true;\r\n      try {        \r\n        const response = await servicio.post(formulario,'auth/iniciar/sesion');\r\n        if(response._response!==null){\r\n          if(response._response.status === 201){\r\n\r\n            alert.value.tipo = 'success';\r\n            alert.value.errores = ['Éxito!'];\r\n            loading.value = true;\r\n\r\n            const data = response._response.data;\r\n            console.log(data.permisos)\r\n            store.commit('sesion', data);            \r\n            alert.value.errores = ['Iniciando Sesión'];\r\n\r\n            router.push({ name: \"perfil\"})\r\n          }\r\n        }else if(response._error!==null){\r\n          const status = response._error.response.status;\r\n          console.log(\"Errores: \"+response._error);\r\n          if( status === 401 || status === 403) {\r\n            \r\n            alert.value.tipo = 'warning'; \r\n            alert.value.errores = [response._error.response.data.message];\r\n\r\n          }\r\n\r\n          if(status === 402 || status === 422){  \r\n\r\n            alert.value.tipo = 'warning';  \r\n            alert.value.errores = [];      \r\n            if(typeof response._error.response.data.errors.correo !== 'undefined')\r\n              obtenerErrores(response._error.response.data.errors.correo);\r\n            if(typeof response._error.response.data.errors.contrasena !== 'undefined')\r\n              obtenerErrores(response._error.response.data.errors.contrasena);\r\n            \r\n          }\r\n        }\r\n        loading.value = false;\r\n      } catch (error) {\r\n        alert.value.tipo = 'warning'; \r\n        alert.value.errores = [error];\r\n        loading.value = false;        \r\n      }\r\n      \r\n    };\r\n\r\n    const obtenerErrores = (array) =>{\r\n      if(typeof array !== 'undefined'){\r\n        let _array = alert.value.errores;\r\n        alert.value.errores = _array.length>0?_array.concat(array):[].concat(array);\r\n      }\r\n     \r\n    }\r\n\r\n    return {\r\n      alert,\r\n      loading,\r\n      formulario,\r\n      recuerdame,\r\n      //Metodos\r\n      handledInicioSesion,\r\n      resetForm\r\n    }\r\n  },\r\n}\r\n</script>\r\n<style scoped>\r\n  /**DESKTOP */\r\n  @media only screen and (min-width: 980px) {\r\n    .fondo-login{\r\n      background-color:#252138;; \r\n      padding-top: 25%; \r\n      padding-bottom: 15%; \r\n      padding-left: 15%; \r\n      padding-right: 15%; \r\n      border-radius: 1%;\r\n    }\r\n  }\r\n  /**LAPTOP */\r\n  @media only screen and (min-width: 768px) {\r\n    .fondo-login{\r\n      background-color:#252138;; \r\n      padding-top: 10%; \r\n      padding-bottom: 10%; \r\n      padding-left: 15%; \r\n      padding-right: 15%; \r\n      border-radius: 1%;\r\n    }\r\n  }\r\n  /**PHONE */\r\n  @media only screen and (min-width: 320px) {\r\n    \r\n  }\r\n  @import '../assets/css/page-auth.css'\r\n</style>","import { render } from \"./InicioSesionView.vue?vue&type=template&id=74e6b54c&scoped=true\"\nimport script from \"./InicioSesionView.vue?vue&type=script&lang=js\"\nexport * from \"./InicioSesionView.vue?vue&type=script&lang=js\"\n\nimport \"./InicioSesionView.vue?vue&type=style&index=0&id=74e6b54c&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\Pc\\\\Desktop\\\\SAIV\\\\vue\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-74e6b54c\"]])\n\nexport default __exports__"],"names":["class","style","_createElementVNode","src","alt","height","width","id","for","_hoisted_27","_createElementBlock","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","$setup","tipo","role","_hoisted_12","_hoisted_13","_toDisplayString","errores","_hoisted_14","_Fragment","_renderList","item","key","onSubmit","autocomplete","_hoisted_16","disabled","correo","$event","type","name","placeholder","_hoisted_20","contrasena","_createVNode","_component_router_link","to","onClick","_hoisted_24","setup","recuerdame","ref","loading","alert","form","formulario","reactive","JSON","parse","stringify","store","resetForm","Object","assign","value","handledInicioSesion","async","response","servicio","_response","status","data","console","log","permisos","router","_error","message","errors","obtenerErrores","error","array","_array","length","concat","__exports__","render"],"sourceRoot":""}