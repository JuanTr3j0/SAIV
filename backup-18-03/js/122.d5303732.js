"use strict";(self["webpackChunkvue"]=self["webpackChunkvue"]||[]).push([[122],{7690:function(e,r,a){a.r(r),a.d(r,{default:function(){return M}});var s=a(3396),o=a(7139),n=a(9242);const l=e=>((0,s.dD)("data-v-a8d8d64e"),e=e(),(0,s.Cn)(),e),t={class:"container-fluid",style:{background:"rgb(36, 34, 55)"}},i={class:"authentication-wrapper authentication-basic container-p-y"},c={class:"authentication-inner"},d={class:"card"},u={class:"card-body"},p=l((()=>(0,s._)("div",{class:"container-fluid mb-3"},[(0,s._)("img",{src:"https://www.csj.gob.sv/wp-content/uploads/2021/06/cropped-logocsj-1-180x180.png",alt:"user-avatar",class:"d-block rounded-3 mx-auto",height:"150",width:"150",id:"uploadedAvatar"})],-1))),b=l((()=>(0,s._)("h3",{class:"mb-2 text-center"},[(0,s._)("strong",null,"Bienvenida/o a SAIV")],-1))),g=l((()=>(0,s._)("p",null,[(0,s._)("small",{class:"p"},"Sección de Atención Integral a Victimas de la Corte Suprema de Justicia para el registro y gestión de casos de violencia")],-1))),m=l((()=>(0,s._)("p",null,null,-1))),v={class:"text-center"},_={key:0,class:"bx bx-loader-alt bx-spin"},f={key:1},w={key:2},y={key:0},k={class:"mb-3"},x=l((()=>(0,s._)("div",{class:"d-flex justify-content-between"},[(0,s._)("label",{for:"correo",class:"fw-semibold d-block"},[(0,s._)("code",null,"*"),(0,s.Uk)("Correo")])],-1))),h={class:"input-group input-group-merge"},S=["disabled"],C={class:"mb-3 form-password-toggle"},I=l((()=>(0,s._)("div",{class:"d-flex justify-content-between"},[(0,s._)("label",{class:"fw-semibold d-block",for:"usario-contrasena"},[(0,s._)("code",null,"*"),(0,s.Uk)("Contraseña")])],-1))),D={class:"input-group input-group-merge"},U=["disabled"],j={class:"mb-3 float-end"},q=l((()=>(0,s._)("i",{class:"bx bx-arrow-back"},null,-1))),J=["disabled"],O=l((()=>(0,s._)("i",{class:"bx bx-reset"},null,-1))),Z=["disabled"];function A(e,r,a,l,A,F){const H=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",t,[(0,s._)("div",i,[(0,s._)("div",c,[(0,s._)("div",d,[(0,s._)("div",u,[p,b,g,m,(0,s._)("div",{class:(0,o.C_)(["alert",{"alert-info":null===l.alert.tipo,"alert-warning":"warning"===l.alert.tipo,"alert-success":"success"===l.alert.tipo}]),role:"alert"},[(0,s._)("div",v,[l.loading?((0,s.wg)(),(0,s.iD)("i",_)):(0,s.kq)("",!0),null===l.alert.tipo?((0,s.wg)(),(0,s.iD)("span",f," Ingresa tus credenciales por favor.")):(0,s.kq)("",!0),"success"===l.alert.tipo?((0,s.wg)(),(0,s.iD)("span",w,(0,o.zw)(l.alert.errores[0]),1)):(0,s.kq)("",!0)]),"warning"===l.alert.tipo?((0,s.wg)(),(0,s.iD)("ul",y,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.alert.errores,(e=>((0,s.wg)(),(0,s.iD)("li",{key:e},(0,o.zw)(e),1)))),128))])):(0,s.kq)("",!0)],2),(0,s._)("form",{onSubmit:r[3]||(r[3]=(0,n.iM)(((...e)=>l.handledInicioSesion&&l.handledInicioSesion(...e)),["prevent"])),class:"form",autocomplete:"off"},[(0,s._)("div",k,[x,(0,s._)("div",h,[(0,s.wy)((0,s._)("input",{disabled:l.loading,"onUpdate:modelValue":r[0]||(r[0]=e=>l.formulario.correo=e),type:"email",class:"form-control",name:"correo-usuario",placeholder:"Ingrese"},null,8,S),[[n.nr,l.formulario.correo,void 0,{trim:!0}]])])]),(0,s._)("div",C,[I,(0,s._)("div",D,[(0,s.wy)((0,s._)("input",{disabled:l.loading,type:"password",id:"usario-contrasena",class:"form-control",placeholder:"············","onUpdate:modelValue":r[1]||(r[1]=e=>l.formulario.contrasena=e)},null,8,U),[[n.nr,l.formulario.contrasena,void 0,{trim:!0}]])])]),(0,s._)("div",j,[(0,s.Wm)(H,{to:"/",disabled:l.loading,type:"button",onClick:l.resetForm,class:"btn btn-secondary text-start",style:{margin:"3px"}},{default:(0,s.w5)((()=>[q,(0,s.Uk)(" Inicio ")])),_:1},8,["disabled","onClick"]),(0,s._)("button",{disabled:l.loading,type:"button",onClick:r[2]||(r[2]=(...e)=>l.resetForm&&l.resetForm(...e)),class:"btn btn-secondary text-start",style:{margin:"3px"}},[O,(0,s.Uk)(" Reset ")],8,J),(0,s._)("button",{disabled:l.loading,class:"btn btn-primary text-start block",type:"submit",style:{margin:"3px"}},[(0,s._)("i",{class:(0,o.C_)(["bx",{"bx-log-in":!l.loading,"bx-spin bx-loader":l.loading}])},null,2),(0,s.Uk)(" Acceder ")],8,Z)])],32)])])])])])}var F=a(4870),H=a(4239),N=a(4009),V=a(1120),z={setup(){const e=(0,F.iH)(!1),r=(0,F.iH)(!1),a=(0,F.iH)({tipo:null,errores:[]}),s={correo:null,contrasena:null},o=(0,F.qj)(JSON.parse(JSON.stringify(s)));H.Z.commit("headerSesion");const n=()=>{Object.assign(o,JSON.parse(JSON.stringify(s))),a.value.errores=[],a.value.tipo=null},l=async()=>{r.value=!0;try{const e=await N.Z.post(o,"auth/iniciar/sesion");if(null!==e._response){if(201===e._response.status){a.value.tipo="success",a.value.errores=["Éxito!"],r.value=!0;const s=e._response.data;H.Z.commit("sesion",s),a.value.errores=["Iniciando Sesión"],V.Z.push({name:"perfil"})}}else if(null!==e._error){const r=e._error.response.status;console.log(e._error),401!==r&&403!==r||(a.value.tipo="warning",a.value.errores=[e._error.response.data.message]),402!==r&&422!==r||(a.value.tipo="warning",a.value.errores=[],"undefined"!==typeof e._error.response.data.errors.correo&&t(e._error.response.data.errors.correo),"undefined"!==typeof e._error.response.data.errors.contrasena&&t(e._error.response.data.errors.contrasena))}r.value=!1}catch(e){a.value.tipo="warning",a.value.errores=[e],r.value=!1}},t=e=>{if("undefined"!==typeof e){let r=a.value.errores;a.value.errores=r.length>0?r.concat(e):[].concat(e)}};return{alert:a,loading:r,formulario:o,recuerdame:e,handledInicioSesion:l,resetForm:n}}},B=a(89);const K=(0,B.Z)(z,[["render",A],["__scopeId","data-v-a8d8d64e"]]);var M=K}}]);
//# sourceMappingURL=122.d5303732.js.map