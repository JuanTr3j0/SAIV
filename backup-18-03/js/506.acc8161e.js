"use strict";(self["webpackChunkvue"]=self["webpackChunkvue"]||[]).push([[506],{8419:function(e,o,t){var r=t(4239),n=t(1120),s=t(9874);o["Z"]={obtener:async e=>{let o=!1,t=null,a=null;return await fetch(r.Z.state.URL_SERVER+e,{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:r.Z.state.HEADERS,redirect:"follow",referrerPolicy:"no-referrer"}).then((e=>{if(401===e.status)s.Z.error({title:"Error",description:"Acceso Denegado"}),localStorage.clear(),n.Z.push({name:"acceso"});else{if("undefined"!==typeof e&&e.ok)return e.ok?(console.log("Proceso Completado!"),o=e.ok,e.json()):null;console.log(r.Z.getters.erroresResponse(e))}})).then((e=>a=e)).catch((e=>{t=e})),s.Z.toasPeticionesHttp(a,t,o),a},actualizarCrear:async(e,o)=>{let t=null,a=!1,i=null,l=null;try{await fetch(r.Z.state.URL_SERVER+o,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:r.Z.state.HEADERS,redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(e)}).then((e=>{if(401===e.status)s.Z.error({title:"Error",description:"Acceso Denegado"}),localStorage.clear(),n.Z.push({name:"acceso"});else if("undefined"!==typeof e&&e.ok){if(e.ok)return a=e.ok,e.json()}else i=r.Z.getters.erroresResponse(e)})).then((function(e){t=e})).catch((e=>{i=e}))}catch(c){l=c}return s.Z.toasPeticionesHttp(t,i,a),{json:t,ok:a,exception:l}},borrar:async(e,o)=>{let t=null,a=!1,i=null;await fetch(r.Z.state.URL_SERVER+o,{method:"DELETE",mode:"cors",cache:"default",credentials:"same-origin",headers:r.Z.state.HEADERS,redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(e)}).then((e=>(401===e.status?(s.Z.error({title:"Error",description:"Acceso Denegado"}),localStorage.clear(),n.Z.push({name:"acceso"})):"undefined"!==typeof e&&e.ok?e.ok&&console.log("Proceso Completado!"):console.log(r.Z.getters.erroresResponse(e)),a=e.ok,e.json()))).then((e=>{t=e})).catch((e=>{i=e})),s.Z.toasPeticionesHttp(t,i,a)},borrarCaso:async(e,o)=>{let t=null,a=!1,i=null;return await fetch(r.Z.state.URL_SERVER+o,{method:"DELETE",mode:"cors",cache:"default",credentials:"same-origin",headers:r.Z.state.HEADERS,redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(e)}).then((e=>(401===e.status?(s.Z.error({title:"Error",description:"Acceso Denegado"}),localStorage.clear(),n.Z.push({name:"acceso"})):"undefined"!==typeof e&&e.ok?e.ok&&console.log("Proceso Completado!"):console.log(r.Z.getters.erroresResponse(e)),a=e.ok,e.json()))).then((e=>{t=e})).catch((e=>{i=e})),s.Z.toasPeticionesHttp(t,i,a),{_json:t,error:i,ok:a}},borrar:async e=>{let o=null,t=!1,a=null;return await fetch(r.Z.state.URL_SERVER+e,{method:"DELETE",mode:"cors",cache:"default",credentials:"same-origin",headers:r.Z.state.HEADERS,redirect:"follow",referrerPolicy:"no-referrer"}).then((e=>(401===e.status?(s.Z.error({title:"Error",description:"Acceso Denegado"}),localStorage.clear(),n.Z.push({name:"acceso"})):"undefined"!==typeof e&&e.ok?e.ok&&console.log("Proceso Completado!"):console.log(r.Z.getters.erroresResponse(e)),t=e.ok,e.json()))).then((e=>{o=e})).catch((e=>{a=e})),{json:o,ok:t}}}},1787:function(e,o,t){t.d(o,{Z:function(){return h}});var r=t(3396),n=t(7139);const s={key:0,class:"input-group-text fw-bold text-primary"},a={key:0},i=["for"],l={key:0},c=["value","id","disabled"],d=(0,r._)("option",{value:null,selected:""},"Seleccione",-1),p=["value","selected"],u={key:3,class:"form-control text-primary fw-bold"};function g(e,o,t,g,m,f){return(0,r.wg)(),(0,r.iD)("div",{class:(0,n.C_)(e.clases??[])},[(e.clases??[]).includes("input-group")?((0,r.wg)(),(0,r.iD)("span",s,[e.obligatorio?((0,r.wg)(),(0,r.iD)("code",a,"*")):(0,r.kq)("",!0),(0,r.Uk)((0,n.zw)(e.nombre),1)])):((0,r.wg)(),(0,r.iD)("label",{key:1,class:"fw-semibold d-block",for:e.id},[e.obligatorio?((0,r.wg)(),(0,r.iD)("code",l,"*")):(0,r.kq)("",!0),(0,r.Uk)((0,n.zw)(e.nombre),1)],8,i)),!0!==(e.showVer??!1)?((0,r.wg)(),(0,r.iD)("select",{key:2,class:"form-select",value:e.opcion??"Seleccione",id:e.id,"aria-label":"Default select",onInput:o[0]||(o[0]=(...o)=>e.updatedOpcion&&e.updatedOpcion(...o)),disabled:(e.showVer??!1)||e.loading||e.opciones.length<1||e.disabled},[d,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.opciones,(o=>((0,r.wg)(),(0,r.iD)("option",{key:o,value:"object"===typeof o?o.key:o,selected:"object"===typeof o?o.key===e.opcion:o===e.opcion},(0,n.zw)("object"===typeof o?o.opcion:o),9,p)))),128))],40,c)):((0,r.wg)(),(0,r.iD)("label",u,(0,n.zw)(e.getItem(e.opciones,e.opcion)),1))],2)}var m=(0,r.aZ)({props:["tipo","clases","opciones","nombre","id","opcion","showVer","loading","obligatorio","disabled"],setup(e,{emit:o}){const t=e=>{let t="Seleccione"===e.target.value?null:e.target.value;o("update:opcion",t)},r=(e,o)=>{if("undefined"===typeof o||null===o)return"No Ingresado";if(0===(e??[]).length)return"Error Opciones no Cargadas...";let t=e[0];return"string"===typeof t?o:"object"===typeof t?e.find((e=>e.key===o)).opcion:void 0};return{updatedOpcion:t,getItem:r}}}),f=t(89);const b=(0,f.Z)(m,[["render",g]]);var h=b},7453:function(e,o,t){t.r(o),t.d(o,{default:function(){return P}});var r=t(3396),n=t(7139);const s={class:"container-xxl flex-grow-1 container-p-y"},a={class:"fw-bold py-3 mb-4"},i={class:"text-muted fw-light text-center"},l={class:"row"},c={class:"col-lg-12 col-md-4 order-1"},d={class:"row"},p={class:"col-lg-4 col-md-12 col-6 mb-4"};function u(e,o,t,u,g,m){const f=(0,r.up)("ReporteVue");return(0,r.wg)(),(0,r.iD)("div",s,[(0,r._)("h4",a,[(0,r._)("span",i,"SAIV"+(0,n.zw)(e.store.state.USUARIO.oficina)+" /",1),(0,r.Uk)(" Reportes ")]),(0,r._)("div",l,[(0,r._)("div",c,[(0,r._)("div",d,[(0,r._)("div",p,[(0,r.Wm)(f,{option:"usuariosActivos"})])])])])])}const g={class:"card"},m={key:0,class:"h-100 container-fluid text-center p-2 bx-tada"},f=(0,r._)("i",{class:"bx bx-file text-primary",style:{"font-size":"100px"}},null,-1),b=(0,r._)("h5",{class:"text-primary fw-bold"},"Cargando...",-1),h=[f,b],y={key:1,class:"card-body"},w={class:"card-title"},k={action:""},v={class:"row mx-auto text-primary",style:{"font-size":"medium"}},Z=["disabled"];function R(e,o,t,s,a,i){const l=(0,r.up)("FormSelectOpcionVue"),c=(0,r.Q2)("auto-animate");return(0,r.wg)(),(0,r.iD)("div",g,[e.loading?((0,r.wg)(),(0,r.iD)("div",m,h)):((0,r.wg)(),(0,r.iD)("div",y,[(0,r._)("div",{class:(0,n.C_)(["text-center",e.json&&e.json.fondo_icono])},[(0,r._)("i",{class:(0,n.C_)(e.json.icono),style:{"font-size":"100px"}},null,2),(0,r._)("h2",w,(0,n.zw)(e.json.titulo),1)],2),(0,r._)("form",k,[(0,r.wy)(((0,r.wg)(),(0,r.iD)("div",v,[(0,r.Wm)(l,{id:1e6*Math.random()+"-tipo-reporte",nombre:"Tipo Reporte",opciones:e.json.tipos,clases:["col-md-12 m-2"],loading:e.loadingResponse,showVer:!1,opcion:e.json.tipo,"onUpdate:opcion":o[0]||(o[0]=o=>e.json.tipo=o),onChange:o[1]||(o[1]=o=>"Mensual"!=e.json.tipo&&(e.json.mes=null))},null,8,["id","opciones","loading","opcion"]),"Mensual"===e.json.tipo?((0,r.wg)(),(0,r.j4)(l,{key:0,id:1e6*Math.random()+"-mes-reporte",nombre:"Mes",opciones:e.meses,clases:["col-md-12 m-2"],loading:e.loadingResponse,showVer:!1,opcion:e.json.mes,"onUpdate:opcion":o[2]||(o[2]=o=>e.json.mes=o)},null,8,["id","opciones","loading","opcion"])):(0,r.kq)("",!0),(0,r.Wm)(l,{id:1e6*Math.random()+"-anio-reporte",nombre:"Año",opciones:e.json.anios,clases:["col-md-12 m-2"],loading:e.loadingResponse,showVer:!1,opcion:e.json.anio,"onUpdate:opcion":o[3]||(o[3]=o=>e.json.anio=o)},null,8,["id","opciones","loading","opcion"]),(0,r._)("button",{class:"btn btn-primary btn-block m-2",type:"button",onClick:o[4]||(o[4]=(...o)=>e.descargar&&e.descargar(...o)),disabled:e.loadingResponse},[(0,r._)("i",{class:(0,n.C_)(["bx bx-sm mr-3",e.loadingResponse?"bx-spin bx-loader":"bx-download"])},null,2),(0,r.Uk)(" Generar Descarga ")],8,Z)])),[[c]])])]))])}var E=t(4009),x=t(8419),S=t(1787),j=t(4239),D=t(4870),_=(0,r.aZ)({props:["json"],setup(e){const o=(0,D.iH)(!0),t=(0,D.iH)(!1),n=(0,D.iH)([]);o.value=!1;const s=(0,D.iH)({icono:"bx bxs-box bx-burst-hover mx-2",titulo:"Reporte Casos",tipos:["Mensual","Primer Trimestre","Segundo Trimestre","Tercer Trimestre","Anual"],tipo:null,modulo:"CASOS",mes:null,aniosURL:"saiv/casos/periodos",anios:[],anio:null}),a=(0,D.iH)(["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"]);(0,r.bv)((async()=>{try{const e=await x.Z.obtener(s.value.aniosURL);s.value.anios=e??[]}catch(e){console.log(e)}}));const i=async()=>{t.value=!0;try{let o=s.value;var e="Reporte_SAIV"+j.Z.state.USUARIO.oficina+"_"+o.tipo;"Mensual"===o.tipo&&(e+=o.mes.toUpperCase()),e+="_"+o.anio,await E.Z.descargarArchivoExcel("saiv/descargar/excel/reporte/"+o.modulo+"/"+(o.tipo??"TIPO").toUpperCase()+"/"+(a.value.indexOf(o.mes??"MES")+1)+"/"+(o.anio??"AÑO").toUpperCase(),{titulo:e})}catch(o){console.log(o)}finally{t.value=!1}};return{json:s,meses:a,anios:n,loading:o,loadingResponse:t,descargar:i}},components:{FormSelectOpcionVue:S.Z}}),A=t(89);const C=(0,A.Z)(_,[["render",R]]);var U=C,O=(0,r.aZ)({components:{ReporteVue:U},setup(){return{store:j.Z}}});const V=(0,A.Z)(O,[["render",u]]);var P=V}}]);
//# sourceMappingURL=506.acc8161e.js.map