{"version":3,"file":"js/753.5d019dbf.js","mappings":"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","sources":["webpack://vue/./src/views/InicioSesionView.vue","webpack://vue/./src/views/InicioSesionView.vue?4fe7"],"sourcesContent":["<template>\r\n    <!-- Content -->\r\n    <div class=\"container-fluid \" style=\"background: rgb(36, 34, 55)\">\r\n      <div class=\"authentication-wrapper authentication-basic container-p-y\">\r\n        <div class=\"authentication-inner\">\r\n          <!-- Register -->\r\n          <div class=\"card\">\r\n            <div class=\"card-body\">              \r\n              <div class=\"container-fluid mb-3\">\r\n                <img\r\n                  src=\"https://www.csj.gob.sv/wp-content/uploads/2021/06/cropped-logocsj-1-180x180.png\"\r\n                  alt=\"user-avatar\"\r\n                  class=\"d-block rounded-3 mx-auto\"\r\n                  height=\"150\"\r\n                  width=\"150\"\r\n                  id=\"uploadedAvatar\"\r\n                />\r\n              </div>\r\n              <h3 class=\"mb-2 text-center\"><strong>Bienvenida/o a SAIV</strong></h3>               \r\n              <p>\r\n                <small class=\"p\">Sección de Atención Integral a Victimas de la Corte Suprema de Justicia para el registro y gestión de casos de violencia</small>\r\n              </p>\r\n              <p>\r\n              </p>\r\n              <div class=\"alert\" :class=\"{'alert-info':alert.tipo===null, 'alert-warning':alert.tipo==='warning', 'alert-success':alert.tipo==='success'}\" role=\"alert\">\r\n                <div class=\"text-center\">\r\n                  <i v-if=\"loading\" class=\"bx bx-loader-alt bx-spin\" ></i>                 \r\n                  <span v-if=\"alert.tipo===null\"> Ingresa tus credenciales por favor.</span>\r\n                  <span v-if=\"alert.tipo==='success'\"> {{alert.errores[0]}}</span>\r\n                </div>                  \r\n                <ul v-if=\"alert.tipo==='warning'\">\r\n                  <li v-for=\"item in alert.errores\" :key=\"item\">\r\n                    {{item}}\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n              <form v-on:submit.prevent=\"handledInicioSesion\" class=\"form\" autocomplete=\"off\" >\r\n                <div class=\"mb-3\">\r\n                  <div class=\"d-flex justify-content-between\">\r\n                    <label for=\"correo\" class=\"fw-semibold d-block\"><code>*</code>Correo</label>\r\n                  </div>\r\n                  <div class=\"input-group input-group-merge\">\r\n                    <input :disabled=\"loading\"\r\n                      v-model.trim=\"formulario.correo\"\r\n                      type=\"email\"\r\n                      class=\"form-control\"\r\n                      name=\"correo-usuario\"\r\n                      placeholder=\"Ingrese\"                      \r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div class=\"mb-3 form-password-toggle\">\r\n                  <div class=\"d-flex justify-content-between\">\r\n                    <label class=\"fw-semibold d-block\" for=\"usario-contrasena\"><code>*</code>Contraseña</label>\r\n                  </div>\r\n                  <div class=\"input-group input-group-merge\">\r\n                    <input :disabled=\"loading\"\r\n                      type=\"password\"\r\n                      id=\"usario-contrasena\"\r\n                      class=\"form-control\"\r\n                      placeholder=\"&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;\"\r\n                      v-model.trim=\"formulario.contrasena\"                        \r\n                    />\r\n                  </div>\r\n                </div>\r\n                <!-- <div class=\"mb-3\">\r\n                  <div class=\"form-check\">\r\n                    <input :disabled=\"loading\"\r\n                      class=\"form-check-input\" \r\n                      v-model=\"recuerdame\"\r\n                      type=\"checkbox\" id=\"usuario-recuerdame\" />\r\n                    <label class=\"form-check-label\" for=\"usuario-recuerdame\">  </label>\r\n                  </div>\r\n                </div>                 -->\r\n                <div class=\"mb-3 float-end\">\r\n                    <router-link :to=\"'/'\" :disabled=\"loading\" type=\"button\" @click=\"resetForm\" class=\"btn btn-secondary text-start\"  style=\"margin: 3px;\">\r\n                      <i class=\"bx bx-arrow-back\"></i> Inicio\r\n                    </router-link>\r\n                    <button :disabled=\"loading\" type=\"button\" @click=\"resetForm\" class=\"btn btn-secondary text-start\" style=\"margin: 3px;\">\r\n                      <i class=\"bx bx-reset\"></i> Reset\r\n                    </button>\r\n                    <button  :disabled=\"loading\" class=\"btn  btn-primary text-start block\" type=\"submit\" style=\"margin: 3px;\">\r\n                      <i class=\"bx\" :class=\"{'bx-log-in':!loading, 'bx-spin bx-loader':loading}\"></i> Acceder\r\n                    </button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n          <!-- /Register -->\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- / Content -->\r\n</template>\r\n<script>\r\nimport { ref, reactive } from 'vue'\r\nimport store from '@/store/index'\r\nimport servicio from '@/services/otros'\r\nimport router from '@/router/index'\r\nexport default {\r\n  setup() {\r\n    //Constantes\r\n    const recuerdame = ref(false);\r\n    const loading = ref(false);\r\n    const alert = ref({tipo:null, errores:[]})\r\n    const form = { \r\n      correo:'chalatenango@bitzide.com', \r\n      contrasena:'password', \r\n    };\r\n    const formulario = reactive(JSON.parse(JSON.stringify(form)));\r\n    \r\n    //Created \r\n    store.commit('headerSesion');\r\n    //recuerdame.value = localStorage.getItem('recuerdame')??=false;\r\n    \r\n    //Methods\r\n    const resetForm = () => {\r\n      Object.assign(formulario, JSON.parse(JSON.stringify(form)));\r\n      alert.value.errores = [];\r\n      alert.value.tipo = null;\r\n    };\r\n\r\n    const handledInicioSesion = async () =>{\r\n      loading.value = true;\r\n      try {\r\n        const response = await servicio.post(formulario, 'auth/login');\r\n        if(response._response!==null){\r\n          if(response._response.status === 201){\r\n\r\n            alert.value.tipo = 'success';\r\n            alert.value.errores = ['Éxito!'];\r\n            loading.value = true;\r\n\r\n            const data = response._response.data;\r\n\r\n            store.commit('sesion', data);            \r\n            alert.value.errores = ['Iniciando Sesión'];\r\n\r\n            router.push({ name: \"perfil\"})\r\n          }\r\n        }else if(response._error!==null){\r\n          const status = response._error.response.status;\r\n          console.log(response._error);\r\n          if( status === 401 || status === 403) {\r\n            \r\n            alert.value.tipo = 'warning'; \r\n            alert.value.errores = [response._error.response.data.message];\r\n\r\n          }\r\n\r\n          if(status === 402 || status === 422){  \r\n\r\n            alert.value.tipo = 'warning';  \r\n            alert.value.errores = [];      \r\n            if(typeof response._error.response.data.errors.correo !== 'undefined')\r\n              obtenerErrores(response._error.response.data.errors.correo);\r\n            if(typeof response._error.response.data.errors.contrasena !== 'undefined')\r\n              obtenerErrores(response._error.response.data.errors.contrasena);\r\n            \r\n          }\r\n        }\r\n        loading.value = false;\r\n      } catch (error) {\r\n        alert.value.tipo = 'warning'; \r\n        alert.value.errores = [error];\r\n        loading.value = false;        \r\n      }\r\n      \r\n    };\r\n\r\n    const obtenerErrores = (array) =>{\r\n      if(typeof array !== 'undefined'){\r\n        let _array = alert.value.errores;\r\n        alert.value.errores = _array.length>0?_array.concat(array):[].concat(array);\r\n      }\r\n     \r\n    }\r\n\r\n    return {\r\n      alert,\r\n      loading,\r\n      formulario,\r\n      recuerdame,\r\n      //Metodos\r\n      handledInicioSesion,\r\n      resetForm\r\n    }\r\n  },\r\n}\r\n</script>\r\n<style scoped>\r\n  /**DESKTOP */\r\n  @media only screen and (min-width: 980px) {\r\n    .fondo-login{\r\n      background-color:#252138;; \r\n      padding-top: 25%; \r\n      padding-bottom: 15%; \r\n      padding-left: 15%; \r\n      padding-right: 15%; \r\n      border-radius: 1%;\r\n    }\r\n  }\r\n  /**LAPTOP */\r\n  @media only screen and (min-width: 768px) {\r\n    .fondo-login{\r\n      background-color:#252138;; \r\n      padding-top: 10%; \r\n      padding-bottom: 10%; \r\n      padding-left: 15%; \r\n      padding-right: 15%; \r\n      border-radius: 1%;\r\n    }\r\n  }\r\n  /**PHONE */\r\n  @media only screen and (min-width: 320px) {\r\n    \r\n  }\r\n  @import '../assets/css/page-auth.css'\r\n</style>","import { render } from \"./InicioSesionView.vue?vue&type=template&id=54b67636&scoped=true\"\nimport script from \"./InicioSesionView.vue?vue&type=script&lang=js\"\nexport * from \"./InicioSesionView.vue?vue&type=script&lang=js\"\n\nimport \"./InicioSesionView.vue?vue&type=style&index=0&id=54b67636&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Github\\\\SIAVCH\\\\vue\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-54b67636\"]])\n\nexport default __exports__"],"names":["class","style","_createElementVNode","src","alt","height","width","id","for","_createElementBlock","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","$setup","tipo","role","_hoisted_12","_hoisted_13","_toDisplayString","errores","_hoisted_14","_Fragment","_renderList","item","key","onSubmit","autocomplete","_hoisted_16","disabled","correo","$event","type","name","placeholder","_hoisted_20","contrasena","_createVNode","_component_router_link","to","onClick","_hoisted_24","_hoisted_26","setup","recuerdame","ref","loading","alert","form","formulario","reactive","JSON","parse","stringify","store","resetForm","Object","assign","value","handledInicioSesion","async","response","servicio","_response","status","data","router","_error","console","log","message","errors","obtenerErrores","error","array","_array","length","concat","__exports__","render"],"sourceRoot":""}