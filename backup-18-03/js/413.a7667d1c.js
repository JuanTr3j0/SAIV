"use strict";(self["webpackChunkvue"]=self["webpackChunkvue"]||[]).push([[413],{4821:function(e,o,l){l.d(o,{Z:function(){return m}});var a=l(3396),n=l(7139);const i={class:"pagination"},s=["onClick"],r=["onClick"];function t(e,o,l,t,d,c){const u=(0,a.up)("v-select");return(0,a.wg)(),(0,a.j4)(u,{value:e.value,options:e.data,loading:e.loading,disabled:e.disabled??!1,filterable:!1,onSearch:e.onSearch,onInput:o[0]||(o[0]=o=>e.inputValue(o))},{"list-footer":(0,a.w5)((()=>[(0,a._)("li",i,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.links,((o,l)=>((0,a.wg)(),(0,a.iD)(a.HY,{key:l},["Siguiente"===e.linkLabel(o)||"Anterior"===e.linkLabel(o)?((0,a.wg)(),(0,a.iD)("button",{key:0,onClick:l=>e.HandleClick(o),type:"button",class:(0,n.C_)([[o.active&&!e.loading?"active":null,o.url&&!e.loading?"":"disabled"],"btn btn-primary mx-2"])},[(0,a._)("strong",null,[(0,a._)("i",{class:(0,n.C_)(["tf-icon bx",{"bx-chevrons-right":"Siguiente"===e.linkLabel(o),"bx-chevrons-left":"Anterior"===e.linkLabel(o)}])},null,2)])],10,s)):(0,a.kq)("",!0),"1"===e.linkLabel(o)?((0,a.wg)(),(0,a.iD)("button",{key:1,onClick:l=>e.HandleClick(o),type:"button",class:(0,n.C_)([["disabled"],"btn btn-outline-primary mx-2"])},[(0,a._)("strong",null,(0,n.zw)(e.registros),1)],8,r)):(0,a.kq)("",!0)],64)))),128))])])),_:1},8,["value","options","loading","disabled","onSearch"])}var d=l(4870),c=(0,a.aZ)({props:["url","filtro","value","registros","links","data","loading","disabled"],setup(e,{emit:o}){(0,d.iH)(e.url);const l=e=>e.label.includes("ext")?"Siguiente":e.label.includes("revious")?"Anterior":e.label,a=async e=>{e.url&&o("setUrlSelect",e.url)},n=e=>{let l="Seleccione"===e.target.value?null:e.target.value;o("input:value",l)},i=async e=>{o("changeVariablesBusqueda",e),o("resetUrlSelect")};return{HandleClick:a,inputValue:n,linkLabel:l,onSearch:i}}}),u=l(89);const p=(0,u.Z)(c,[["render",t],["__scopeId","data-v-6b0da6b8"]]);var m=p},9220:function(e,o,l){l.d(o,{Z:function(){return h}});var a=l(3396),n=l(7139);const i={class:"p-2 rounded-2 border border-primary border-2"},s={class:""},r={class:"mt-3 float-end"},t=["disabled"],d=(0,a._)("i",{class:"bx bx-exit"},null,-1),c=["disabled"];function u(e,o,l,u,p,m){return(0,a.wg)(),(0,a.iD)("div",i,[(0,a._)("h4",s,(0,n.zw)(e.mensaje),1),(0,a._)("div",r,[(0,a._)("button",{type:"button",class:"btn btn-secondary m-1",disabled:e.loading??!1,"data-bs-dismiss":"modal"},[d,(0,a.Uk)(" Salir")],8,t),(0,a._)("button",{type:"button",class:"btn btn-primary m-1","data-bs-dismiss":"modal",onClick:o[0]||(o[0]=()=>{e.$emit("continuar",e.json.key)}),disabled:e.loading??!1},[(0,a._)("i",{class:(0,n.C_)(["bx",{"bx-check":!e.loading,"bx-spin bx-loader":e.loading}])},null,2),(0,a.Uk)(" Continuar ")],8,c)])])}var p=l(4870),m=(0,a.aZ)({props:["mensaje","loading"],setup:(e,{emit:o})=>{const l=(0,p.iH)(null),a=e=>{console.log(e.key),l.value=e};return{json:l,setJson:a}}}),b=l(89);const g=(0,b.Z)(m,[["render",u]]);var h=g},6361:function(e,o,l){l.r(o),l.d(o,{default:function(){return Ze}});var a=l(3396),n=l(7139),i=l(9242);const s={class:"container flex-grow-1 container-p-y"},r={class:"fw-bold py-3 mb-4"},t={class:"text-muted fw-light text-center"},d={class:"card"},c={class:"card-body"},u={class:"col-sm-12 col-md-12 m-1 col-lg-3"},p={class:"input-group border-primary flex justify-content-end"},m=(0,a._)("span",{class:"input-group-text border-primary bg-primary text-white text-center border-white",for:"tipo-caso"},[(0,a.Uk)("Tipo Caso"),(0,a._)("i",{class:"bx bxs-label"})],-1),b=["value"],g=["disabled"],h=(0,a._)("i",{class:"bx bx-plus",style:{"font-size":"20px"}},null,-1),w={class:"text-nowrap fw-bold"},v={class:"text-nowrap fw-bold text-center"},f={class:"text-nowrap fw-bold text-center"},V={class:"text-nowrap fw-bold text-center"},y={id:"acciones",style:{padding:"0%"},class:"text-center"},C={class:"col-md-6"},_={class:"fw-semibold d-block"},k={key:0,class:"bx bx-search bx-sm"},x={class:"col-md"},A={key:1,class:"form-control text-primary fw-bold"},S=["disabled"],U=(0,a._)("i",{class:"bx bx-transfer-alt bx-sm"},null,-1),R={class:"row pb-2 pt-2 border border-2 border-primary rounded"},N={class:"col-md-6"},H={class:"fw-semibold d-block"},D={key:0,class:"bx bx-search bx-sm"},F={class:"col-md"},L={key:1,class:"form-control text-primary fw-bold"},Z=["disabled"],W=(0,a._)("i",{class:"bx bx-transfer-alt bx-sm"},null,-1);function j(e,o,l,j,T,z){const E=(0,a.up)("AccionesTable"),q=(0,a.up)("TableVue"),I=(0,a.up)("vSelectPaginationVue"),M=(0,a.up)("Form"),B=(0,a.up)("FormCasoVue"),O=(0,a.up)("ModalVue");return(0,a.wg)(),(0,a.iD)("div",s,[(0,a._)("h4",r,[(0,a._)("span",t,"SAIV"+(0,n.zw)(e.store.state.USUARIO.oficina)+" /",1),(0,a.Uk)(" Ludoteca ")]),(0,a._)("div",d,[(0,a._)("div",c,[(0,a.Wm)(q,{ref:"tablaLudotecaRef",columnas:e.columnas,url:e.urlTabla,onHandleChangedLoading:e.handleChangedLoading,onHandleChangedData:e.handleChangedData},{col:(0,a.w5)((()=>[(0,a._)("div",u,[(0,a._)("div",p,[m,(0,a.wy)((0,a._)("select",{class:"form-select bg-primary text-white","onUpdate:modelValue":o[0]||(o[0]=o=>e.tipoCaso=o),onChange:o[1]||(o[1]=o=>e.tablaLudotecaRef.handleChangeFiltro(e.tipoCaso))},[((0,a.wg)(),(0,a.iD)(a.HY,null,(0,a.Ko)(["Todos","Denuncia","Sin Denuncia"],(e=>(0,a._)("option",{key:e,class:"bg-primary text-white",value:e},(0,n.zw)(e),9,b))),64))],544),[[i.bM,e.tipoCaso]])])])])),button:(0,a.w5)((()=>[(0,a._)("button",{class:"btn btn-primary m-1 justify-items-start",onClick:o[2]||(o[2]=(...o)=>e.handleClickNuevo&&e.handleClickNuevo(...o)),disabled:e.loading},[h,(0,a.Uk)(" Nuevo ")],8,g)])),tbody:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.data,((l,i)=>((0,a.wg)(),(0,a.iD)("tr",{key:i},[(0,a._)("td",w,[(0,a._)("span",null,(0,n.zw)(l.codigo??"No Ingresado"),1)]),(0,a._)("td",v,[(0,a._)("span",null,(0,n.zw)(l.tipoAtencion??"No Ingresado"),1)]),(0,a._)("td",f,[(0,a._)("span",null,(0,n.zw)(l.tipoAtencionFechaHora??"No Ingresado"),1)]),(0,a._)("td",V,[(0,a._)("span",null,(0,n.zw)(l.proximaCita??"No Ingresado"),1)]),(0,a._)("td",y,[(0,a.Wm)(E,{json:e.seguimiento,loading:e.loading,showEditar:!0,showBorrar:!0,showVer:!0,onHandleClickVer:o[3]||(o[3]=o=>e.handleClickVer(e.seguimiento)),onHandleClickEditar:o[4]||(o[4]=o=>e.handleClickEditar(e.seguimiento)),onHandleClickBorrar:o[5]||(o[5]=o=>e.handleClickBorrar(e.seguimiento))},null,8,["json","loading"])])])))),128))])),_:1},8,["columnas","url","onHandleChangedLoading","onHandleChangedData"])])]),(0,a.Wm)(O,{ref:"modalLudotecaRef",onHandleActualizarDatosTabla:e.handleActualizarDatos},{cardBody:(0,a.w5)((()=>[(0,a.Wm)(i.uT,{name:"fade"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(M,{ref:"formLudotecaRef",loading:e.loading,showVer:e.showVer??!1},{"codigo-caso":(0,a.w5)((()=>[(0,a._)("div",C,[(0,a._)("label",_,[(0,a.Uk)((0,n.zw)(e.showVer?"Código del Caso":"Busqueda y Selección del Caso")+" ",1),e.showVer?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("i",k))]),(0,a._)("div",x,[e.showVer?((0,a.wg)(),(0,a.iD)("label",A,(0,n.zw)(null===e.codigoCaso||"undefined"===typeof e.codigoCaso?"No ingresado":e.codigoCaso.label),1)):((0,a.wg)(),(0,a.j4)(I,{key:0,loading:e.loadingSelect,data:e.dataSelect,url:"saiv/casos/indexSelect",links:e.linksSelect,registros:e.registrosSelect,disabled:e.existKey(),modelValue:e.codigoCaso,"onUpdate:modelValue":o[6]||(o[6]=o=>e.codigoCaso=o),onSetUrlSelect:e.setUrlSelect,onChangeVariablesBusqueda:e.changeVariablesBusqueda,onResetUrlSelect:e.resetUrlSelect},null,8,["loading","data","links","registros","disabled","modelValue","onSetUrlSelect","onChangeVariablesBusqueda","onResetUrlSelect"]))])])])),"nuevo-button":(0,a.w5)((()=>[!e.showVer??1?((0,a.wg)(),(0,a.iD)("button",{key:0,onClick:o[7]||(o[7]=(...o)=>e.handleChangedIntercambiarForm&&e.handleChangedIntercambiarForm(...o)),type:"button",class:"btn btn-secondary m-1",disabled:e.loading},[U,(0,a.Uk)(" Ver Detalles del Caso ")],8,S)):(0,a.kq)("",!0)])),_:1},8,["loading","showVer"]),[[i.F8,e.intercambiarForm]])])),_:1}),(0,a.Wm)(i.uT,{name:"fade"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(B,{showVer:!0,ref:"formCasoRef"},{"codigo-caso":(0,a.w5)((()=>[(0,a._)("div",R,[(0,a._)("div",N,[(0,a._)("label",H,[(0,a.Uk)((0,n.zw)(e.showVer?"Código del Caso":"Busqueda y Selección del Caso")+" ",1),e.showVer?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("i",D))]),(0,a._)("div",F,[e.showVer?((0,a.wg)(),(0,a.iD)("label",L,(0,n.zw)(null===e.codigoCaso||"undefined"===typeof e.codigoCaso?"No ingresado":e.codigoCaso.label),1)):((0,a.wg)(),(0,a.j4)(I,{key:0,loading:e.loadingSelect,data:e.dataSelect,url:"saiv/casos/indexSelect",links:e.linksSelect,registros:e.registrosSelect,disabled:e.existKey(),modelValue:e.codigoCaso,"onUpdate:modelValue":o[8]||(o[8]=o=>e.codigoCaso=o),onSetUrlSelect:e.setUrlSelect,onChangeVariablesBusqueda:e.changeVariablesBusqueda,onResetUrlSelect:e.resetUrlSelect},null,8,["loading","data","links","registros","disabled","modelValue","onSetUrlSelect","onChangeVariablesBusqueda","onResetUrlSelect"]))])])])])),"nuevo-button":(0,a.w5)((()=>[!e.showVer??1?((0,a.wg)(),(0,a.iD)("button",{key:0,onClick:o[9]||(o[9]=(...o)=>e.handleChangedIntercambiarForm&&e.handleChangedIntercambiarForm(...o)),type:"button",class:"btn btn-secondary m-1",disabled:e.loading},[W,(0,a.Uk)(" Volver al Seguimiento Jurídico ")],8,Z)):(0,a.kq)("",!0)])),_:1},512),[[i.F8,!e.intercambiarForm]])])),_:1})])),_:1},8,["onHandleActualizarDatosTabla"])])}var T=l(4870),z=l(4239),E=l(8419),q=l(4009),I=l(1426),M=l(2589),B=l(9570);const O={class:"card clearfix"},K={class:"card-body"},P={action:""},Y={class:"row py-1 gy-2 mt-1 border border-2 border-primary rounded-3"},J=(0,a._)("div",{class:"col-md-12 mt-2"},[(0,a._)("h3",{class:"align-text-bottom"},[(0,a._)("i",{class:"bx bxs-certification bx-md"}),(0,a.Uk)("Ludoteca")])],-1),$={class:"col-md-3"},G=(0,a._)("label",{class:"fw-semibold d-block"},"Tipo de violencia",-1),Q=(0,a._)("label",{class:"fw-semibold d-block"},[(0,a._)("i",{class:"bx bx-caret-right"}),(0,a.Uk)(" Nombre del Niña, Niño o Adolescente")],-1),X={class:"col-md-6"},ee=(0,a._)("label",{class:"fw-semibold d-block",for:"fecha-nacimiento"},"Fecha de Nacimiento",-1),oe={class:"row"},le={class:"col-md-6 my-1"},ae={class:"col-md-6 my-1"},ne={class:"input-group"},ie=(0,a._)("span",{class:"input-group-text fw-bold text-primary"},"Edad:",-1),se={class:"form-control text-primary fw-bold"},re=(0,a._)("label",{class:"fw-semibold d-block"},[(0,a._)("i",{class:"bx bx-caret-right"}),(0,a.Uk)(" Nombre de la Madre o Responsable ")],-1),te=(0,a._)("label",{class:"fw-semibold d-block"},[(0,a._)("i",{class:"bx bx-caret-right"}),(0,a.Uk)(" Tipos de Atención a Menores ")],-1),de={class:"row"},ce={class:"col-md"},ue={class:"col-md"},pe=(0,a._)("label",{class:"fw-semibold d-block"},[(0,a._)("i",{class:"bx bx-caret-right"}),(0,a.Uk)(" Orientación a Madres o Responsables ")],-1),me={class:"row"},be={class:"col-md"},ge={class:"col-md"},he={class:"px-2"};function we(e,o,l,s,r,t){const d=(0,a.up)("labelShowVer"),c=(0,a.up)("v-select"),u=(0,a.up)("FormNombreApellidoVue"),p=(0,a.up)("FormInputVue"),m=(0,a.up)("FormSelectOpcionVue"),b=(0,a.up)("AlertVue"),g=(0,a.up)("ButtonsFormVue");return(0,a.wg)(),(0,a.iD)("div",O,[(0,a._)("div",K,[(0,a._)("form",P,[(0,a._)("div",Y,[J,(0,a.WI)(e.$slots,"codigo-caso"),(0,a._)("div",$,[G,e.showVer?((0,a.wg)(),(0,a.j4)(d,{key:0,value:e.formulario.tipoViolencia},null,8,["value"])):((0,a.wg)(),(0,a.j4)(c,{key:1,multiple:"",placeholder:"Seleccione",options:null===e.opciones?[]:e.opciones.tiposViolencia,style:(0,n.j5)(e.vue_style_select),loading:e.loading,disabled:e.loading,modelValue:e.formulario.tipoViolencia,"onUpdate:modelValue":o[0]||(o[0]=o=>e.formulario.tipoViolencia=o)},null,8,["options","style","loading","disabled","modelValue"]))]),Q,(0,a.Wm)(u,{showVer:e.showVer??!1,loading:e.loading,primerNombre:e.formulario.ninoAdolecente.primerNombre,segundoNombre:e.formulario.ninoAdolecente.segundoNombre,primerApellido:e.formulario.ninoAdolecente.primerApellido,segundoApellido:e.formulario.ninoAdolecente.segundoApellido,"onUpdate:primerNombre":o[1]||(o[1]=o=>e.updateCampoValue(o,"primerNombre")),"onUpdate:segundoNombre":o[2]||(o[2]=o=>e.updateCampoValue(o,"segundoNombre")),"onUpdate:primerApellido":o[3]||(o[3]=o=>e.updateCampoValue(o,"primerApellido")),"onUpdate:segundoApellido":o[4]||(o[4]=o=>e.updateCampoValue(o,"segundoApellido"))},null,8,["showVer","loading","primerNombre","segundoNombre","primerApellido","segundoApellido"]),(0,a._)("div",X,[ee,(0,a._)("div",oe,[(0,a._)("div",le,[(0,a.Wm)(p,{id:e.id+"-fecha-nacimiento",titulo:"Fecha:",loading:e.loading,showVer:e.showVer,type:"date",clases:["input-group"],value:e.formulario.ninoAdolecente.fechaNacimiento,"onUpdate:value":o[5]||(o[5]=o=>e.formulario.ninoAdolecente.fechaNacimiento=o)},null,8,["id","loading","showVer","value"])]),(0,a._)("div",ae,[(0,a._)("div",ne,[ie,(0,a._)("label",se,(0,n.zw)(e.getEdadString(e.formulario.ninoAdolecente.fechaNacimiento)),1)])])])]),(0,a.Wm)(m,{id:"escolaridad",nombre:"Escolaridad",opciones:null===e.opciones?[]:e.opciones.escolaridad,clases:["col-md-6","col-md-auto"],loading:e.loading,showVer:e.showVer??!1,opcion:e.formulario.responsable.nivelEducacion,"onUpdate:opcion":o[6]||(o[6]=o=>e.formulario.responsable.nivelEducacion=o)},null,8,["opciones","loading","showVer","opcion"]),re,(0,a.Wm)(u,{showVer:e.showVer??!1,loading:e.loading,primerNombre:e.formulario.responsable.primerNombre,segundoNombre:e.formulario.responsable.segundoNombre,primerApellido:e.formulario.responsable.primerApellido,segundoApellido:e.formulario.responsable.segundoApellido,"onUpdate:primerNombre":o[7]||(o[7]=o=>e.updateCampoValue(o,"primerNombre")),"onUpdate:segundoNombre":o[8]||(o[8]=o=>e.updateCampoValue(o,"segundoNombre")),"onUpdate:primerApellido":o[9]||(o[9]=o=>e.updateCampoValue(o,"primerApellido")),"onUpdate:segundoApellido":o[10]||(o[10]=o=>e.updateCampoValue(o,"segundoApellido"))},null,8,["showVer","loading","primerNombre","segundoNombre","primerApellido","segundoApellido"]),(0,a.Wm)(m,{id:e.id+"parentesco-responsable",nombre:"Parentesco Responsable",opciones:null===e.opciones?[]:e.opciones.parentescoResponsable,clases:["col-md-3"],loading:e.loading,showVer:e.showVer??!1,opcion:e.formulario.parentescoResponsable,"onUpdate:opcion":o[11]||(o[11]=o=>e.formulario.parentescoResponsable=o),onChange:o[12]||(o[12]=o=>{"Otro"!==e.formulario.parentescoResponsable&&(e.formulario.parentescoResponsableOtro=null)})},null,8,["id","opciones","loading","showVer","opcion"]),(0,a.Wm)(i.uT,{name:"fade"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(p,{id:e.id+"-dui-responsable",titulo:"Parentesco Responsable Otro (Especifique):",loading:e.loading,showVer:e.showVer,clases:["col-md-3"],value:e.formulario.parentescoResponsableOtro,"onUpdate:value":o[13]||(o[13]=o=>e.formulario.parentescoResponsableOtro=o)},null,8,["id","titulo","loading","showVer","value"]),[[i.F8,"Otro"===e.formulario.parentescoResponsable]])])),_:1}),(0,a.Wm)(p,{id:e.id+"-dui-responsable",titulo:"Dui de Responsable",loading:e.loading,showVer:e.showVer,clases:["col-md-3"],value:e.formulario.responsable.dui,"onUpdate:value":o[14]||(o[14]=o=>e.formulario.responsable.dui=o)},null,8,["id","loading","showVer","value"]),(0,a.Wm)(m,{id:e.id+"-area-residencial",nombre:"Area Residencial",opciones:null===e.opciones?[]:e.opciones.zonaResidencial,clases:["col-md-3"],loading:e.loading,showVer:e.showVer??!1,opcion:e.formulario.responsable.areaResidencial,"onUpdate:opcion":o[15]||(o[15]=o=>e.formulario.responsable.areaResidencial=o)},null,8,["id","opciones","loading","showVer","opcion"]),(0,a.Wm)(p,{id:e.id+"-telefono-movil-responsable",titulo:"Tel. Móvil",loading:e.loading,showVer:e.showVer,clases:["col-md-3"],value:e.formulario.responsable.telefonoMovil,"onUpdate:value":o[16]||(o[16]=o=>e.formulario.responsable.telefonoMovil=o)},null,8,["id","titulo","loading","showVer","value"]),(0,a.Wm)(m,{id:"'tel-empresa-movil'",nombre:"Empresa Tel. Móvil",opciones:null===e.opciones?[]:e.opciones.empresaMovil,clases:["col-md-3"],loading:e.loading,showVer:e.showVer??!1,opcion:e.formulario.responsable.empresaMovil,"onUpdate:opcion":o[17]||(o[17]=o=>e.formulario.responsable.empresaMovil=o)},null,8,["nombre","opciones","loading","showVer","opcion"]),(0,a.Wm)(p,{id:e.id+"-telefono-casa-responsable",titulo:"Tel. Casa",loading:e.loading,showVer:e.showVer,clases:["col-md-3"],value:e.formulario.responsable.telefonoCasa,"onUpdate:value":o[18]||(o[18]=o=>e.formulario.responsable.telefonoCasa=o)},null,8,["id","titulo","loading","showVer","value"]),te,(0,a._)("div",de,[(0,a._)("div",ce,[(0,a.Wm)(m,{id:"id+'-tipo-atencion'",nombre:"Tipo Atención:",opciones:null===e.opciones?[]:e.opciones.tipoAtencion,clases:["input-group","my-2"],loading:e.loading,showVer:e.showVer??!1,opcion:e.formulario.tipoAtencion,"onUpdate:opcion":o[19]||(o[19]=o=>e.formulario.tipoAtencion=o)},null,8,["opciones","loading","showVer","opcion"])]),(0,a._)("div",ue,[(0,a.Wm)(p,{id:e.id+"-telefono-casa-responsable",titulo:"Fecha y Hora:",loading:e.loading,showVer:e.showVer,type:"datetime-local",clases:["input-group","my-2"],value:e.formulario.tipoAtencion_fecha_hora,"onUpdate:value":o[20]||(o[20]=o=>e.formulario.tipoAtencion_fecha_hora=o)},null,8,["id","loading","showVer","value"])])]),pe,(0,a._)("div",me,[(0,a._)("div",be,[(0,a.Wm)(m,{id:"id+'-tipo-orientacion'",nombre:"Orientación:",opciones:null===e.opciones?[]:e.opciones.orientacionResponsable,clases:["input-group","my-2"],loading:e.loading,showVer:e.showVer??!1,opcion:e.formulario.orientacionResponsable,"onUpdate:opcion":o[21]||(o[21]=o=>e.formulario.orientacionResponsable=o)},null,8,["opciones","loading","showVer","opcion"])]),(0,a._)("div",ge,[(0,a.Wm)(p,{id:e.id+"-orientacion-responsable-fecha-hora",titulo:"Fecha y Hora:",loading:e.loading,showVer:e.showVer,type:"datetime-local",clases:["input-group","my-2"],value:e.formulario.orientacionResponsables_fecha_hora,"onUpdate:value":o[22]||(o[22]=o=>e.formulario.orientacionResponsables_fecha_hora=o)},null,8,["id","loading","showVer","value"])])]),(0,a.Wm)(p,{id:e.id+"-proxima-cita",titulo:"Próxima Cita:",loading:e.loading,showVer:e.showVer,type:"datetime-local",clases:["col-md-6","my-2"],value:e.formulario.proximaCita,"onUpdate:value":o[23]||(o[23]=o=>e.formulario.proximaCita=o)},null,8,["id","loading","showVer","value"]),(0,a._)("div",he,[(0,a.Wm)(b,{mensajesAlert:e.mensajesAlert,alert:e.tipoAlert},null,8,["mensajesAlert","alert"])])]),(0,a.Wm)(g,{showVer:e.showVer??!1,loading:e.loading,showSig:!1,showAnt:!1,onGuardar:e.guardar},{"nuevo-button":(0,a.w5)((()=>[(0,a.WI)(e.$slots,"nuevo-button")])),_:3},8,["showVer","loading","onGuardar"])])])])}var ve=l(1787),fe=l(7326),Ve=l(7472),ye=l(2366),Ce=l(3590),_e=l(4118),ke=(0,a.aZ)({props:["showVer"],setup(){const e=(0,T.iH)("ludoteca-"),o=(0,T.iH)("--vs-font-size: 0.9375rem;"),l=(0,T.iH)(!1),n=(0,T.iH)(!1),i=(0,T.iH)(null),s=(0,T.iH)(null),r=(0,T.iH)(null),t={key:null,codigoCaso:null,tipoViolencia:[],ninoAdolecente:{key:null,dui:null,primerNombre:null,segundoNombre:null,primerApellido:null,segundoApellido:null,fechaNacimiento:null,nivelEducacion:null,areaResidencial:null,telefonoMovil:null,empresaMovil:null,telefonoCasa:null},responsable:{key:null,dui:null,primerNombre:null,segundoNombre:null,primerApellido:null,segundoApellido:null,fechaNacimiento:null,nivelEducacion:null,areaResidencial:null,telefonoMovil:null,empresaMovil:null,telefonoCasa:null},parentescoResponsable:null,parentescoResponsableOtro:null,tipoAtencion:null,tipoAtencion_fecha_hora:null,orientacionResponsables:null,orientacionResponsables_fecha_hora:null,proximaCita:null},d=(0,T.qj)(JSON.parse(JSON.stringify(t))),c=()=>null!==d.key,u=e=>{d.codigoCaso=e},p=e=>l.value=e,m=async()=>{try{l.value=!0;const e=await E.Z.actualizarCrear(d,"saiv/ludoteca/guardar");if(e.ok){if(e.json.error)return i.value="warning",void(r.value=e.json.error);d.ninoAdolecente.key=e.json.ninoAdolecenteKey,d.responsable.key=e.json.responsableKey,d.key=e.json.key,i.value=null,r.value=null}l.value=!1}catch(e){console.log("¡Ups ocurrió un error!, no se pudo guardar el registro ludoteca"),console.log(e),l.value=!1}};return(0,a.bv)((async()=>{l.value=!0;let e=await E.Z.obtener("saiv/opciones/ludoteca/index");s.value=e,s.value??=null,l.value=!1})),{vue_style_select:o,mensajesAlert:r,formulario:d,tipoAlert:i,opciones:s,loading:l,showVer:n,id:e,handleChangeCodigoCaso:u,handleChangeLoading:p,existKey:c,guardar:m}},components:{AlertVue:_e.Z,FormInputVue:ye.Z,labelShowVer:Ce.Z,ButtonsFormVue:Ve.Z,FormSelectOpcionVue:ve.Z,FormNombreApellidoVue:fe.Z},methods:{getEdadString(e){if(null===e)return"?";let o=this.calcularEdad(e);return o>0&&o<120?o+" Años ":"?"},getEdadInt(e){let o=this.calcularEdad(e);return o>0&&o<120?o:0},calcularEdad(e){if(null===e||"undefined"===typeof e)return null;let o=e.split("-"),l=new Date,a=new Date(o[0],o[1]-1,o[2]),n=l.getFullYear()-a.getFullYear(),i=l.getMonth()-a.getMonth();return(i<0||0===i&&l.getDate()<a.getDate())&&n--,n}}}),xe=l(89);const Ae=(0,xe.Z)(ke,[["render",we]]);var Se=Ae,Ue=l(4821),Re=l(4073),Ne=l(9220);const He=[{nombre:"Código",class:"text-center bg-primary text-white fw-bold",key:"",style:""},{nombre:"Tipo Atención",class:"text-center bg-label-primary text-white fw-bold",key:"",style:""},{nombre:"Fecha y Hora Atención",class:"text-center bg-label-primary text-white fw-bold",key:"",style:""},{nombre:"Próxima Cita",class:"text-center bg-label-primary text-white fw-bold",key:"acciones",style:""},{nombre:"Acciones",class:"bg-primary text-white fw-bold text-center",key:"acciones",style:""}],De="saiv/ludoteca/index";var Fe=(0,a.aZ)({watch:{codigoCaso:async function(e){this.handleChangeCodigoCaso(e),this.formLudotecaRef.handleChangeLoading(!0),this.formCasoRef.resetForm(),null!==e&&await this.cargarCaso(e),this.formLudotecaRef.handleChangeLoading(!1)}},setup(e){const o=(0,T.iH)(!1),l=(0,T.iH)(!1),n=(0,T.iH)([]),i=(0,T.iH)("Todos"),s=(0,T.iH)(null),r=(0,T.iH)(!0),t=(0,T.iH)(null),d=(0,T.iH)(null),c=(0,T.iH)(null),u=(0,T.iH)(null),p=e=>{o.value=e},m=e=>{n.value=e},b=()=>{l.value=null,t.value.showModal()},g=()=>{o.value=!0,d.value.handleActualizarDatos(),o.value=!1},h=e=>{r.value=!r.value},w=()=>null!==u.value&&u.value.existKey(),v=e=>o.value=e,f=async e=>{if("undefined"!==typeof e.key){c.value.resetForm(),u.value.handleChangeLoading(!0);let o=await E.Z.obtener("saiv/casos/obtener/"+e.key);for(let e=0;e<o.agresores.length;e++){const l=o.agresores[e];o.agresores[e].edadDesconocida=1===parseInt(l.edadDesconocida),o.agresores[e].nombreDesconocido=1===parseInt(l.nombreDesconocido)}u.value.handleChangeLoading(!1);const l=o;c.value.editForm(l),c.value.visibleTab("agresores",l.agresores.length>0),c.value.visibleTab("responsables",null!==l.responsable.key)}},V=e=>{u.value.handleChangeCodigoCaso(e)},y=(0,T.iH)(!1),C=(0,T.iH)([]),_=(0,T.iH)(z.Z.state.URL_SERVER+"saiv/casos/indexSelect"),k=(0,T.iH)([]),x=(0,T.iH)(null),A=(0,T.iH)(null),S=async()=>{y.value=!0;const e=await q.Z.datosTabla({busqueda:x.value,porPagina:10},_.value);C.value=e.data,k.value=e.links,A.value=e.current_page+"/"+e.last_page,y.value=e.cargando},U=e=>{x.value=e??x.value,S()},R=()=>{_.value=z.Z.state.URL_SERVER+"saiv/casos/indexSelect"},N=e=>{_.value=e,S()};return(0,a.bv)((()=>{c.value.handledocultarCodigo(!1),S()})),{modalLudotecaRef:t,tablaLudotecaRef:d,formLudotecaRef:u,formCasoRef:c,intercambiarForm:r,codigoCaso:s,urlTabla:De,columnas:He,tipoCaso:i,showVer:l,loading:o,store:z.Z,data:n,registrosSelect:A,busquedaSelect:x,loadingSelect:y,linksSelect:k,dataSelect:C,urlSelect:_,changeVariablesBusqueda:U,resetUrlSelect:R,setUrlSelect:N,handleChangedIntercambiarForm:h,handleChangeCodigoCaso:V,handleActualizarDatos:g,handleChangedLoading:p,handleChangeLoading:v,handleChangedData:m,handleClickNuevo:b,cargarCaso:f,existKey:w}},components:{vSelectPaginationVue:Ue.Z,AdvertenciaVue:Ne.Z,AccionesTable:Re.Z,FormCasoVue:I.Z,ModalVue:M.Z,TableVue:B.Z,Form:Se}});const Le=(0,xe.Z)(Fe,[["render",j]]);var Ze=Le}}]);
//# sourceMappingURL=413.a7667d1c.js.map